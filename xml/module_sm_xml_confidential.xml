<?xml version='1.0' encoding='utf-8'?>
<survey xmlns:atm1d="http://decipherinc.com/atm1d" xmlns:builder="http://decipherinc.com/builder" xmlns:cardsort="http://decipherinc.com/cardsort" xmlns:html="http://decipherinc.com/html" xmlns:ss="http://decipherinc.com/ss" alt="[MODULES] SM: Core Screening" browserDupes="safe" builder:cname="surveys.tapestryresearch.com" builder:wizardCompleted="1" builderCompatible="1" compat="154" delphi="1" displayOnError="all" extraVariables="source,record,decLang,list,userAgent" fir="on" html:showNumber="0" lang="uk" mobile="compat" mobileDevices="smartphone,tablet,desktop" name="Tapestry Research" secure="1" setup="term,decLang,quota,time" ss:accordionDisplay="0" ss:customCSS="Tapestry_03_08_2023" ss:disableBackButton="1" ss:enableNavigation="0" ss:hideProgressBar="0" ss:listDisplay="1" ss:logoAlt="Logo" ss:logoFile="selfserve/2222/logo_a2a001390fe4dc2ce73e6e195e691697.png" ss:logoPosition="middle" state="testing" theme="company/rebranding-themes">
  <res label="Help">Help</res>
  <res label="Privacy_Policy">Privacy Policy</res>
  <res label="sys_continue" />
  <res label="sys_back" />
  <res label="sys_finish">Finish</res>
  <res label="ProceedText">Click the "&gt;&gt;" button to proceed.</res>
  <res label="PrevText">Previous</res>
  <res label="NextText">Next</res>
  <res label="SP1">Please select one answer only.</res>
  <res label="MP1">Please select all that apply.</res>
  <res label="OE1">Please write your answer in the box below.</res>
  <res label="CS1">Please select one answer for each item.</res>
  <res label="N1">Please enter a number in the box below.</res>
  <res label="less">Please provide a bit more detail</res>
  <res label="enough">This is very good information</res>
  <res label="more">Oh wow! This is great!</res>
  <res label="zipError">Please enter a valid postcode.</res>
  <res label="STDZIPError">Please enter a valid ZIP code.</res>
  <samplesources default="0">
    <samplesource list="0">
      <title>Open Survey</title>
      <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
      <completed>It seems you have already entered this survey.</completed>
      <exit cond="terminated">Thank you for taking our survey.</exit>
      <exit cond="qualified">Thank you for taking our survey. Your efforts are greatly appreciated!</exit>
      <exit cond="overquota">Thank you for taking our survey.</exit>
    </samplesource>
  </samplesources>
  <suspend />
  <exec when="init">
# SINGLE: clearQ(QUESTION_ID, "sp")
# MULTI: clearQ(QUESTION_ID, "mp")
def clearQ(qid, t):
    if t == "sp":
        qid.val = None
    elif t == "mp":
        for eachRow in qid.rows:
            eachRow.val = None

# USAGE: set_grid_from_loop(TEST_RADIO_[loopvar: label], TEST_RADIO_GRID, "sp")
# USAGE: set_grid_from_loop(TEST_CHECKBOX_[loopvar: label], TEST_CHECKBOX_GRID, "mp")
def set_grid_from_loop(from_q, to_q, q_type):
	for eachRow in from_q.rows:
		if eachRow:
			if q_type == "sp":
				to_q.attr('[loopvar: label]').val = eachRow.index
			elif q_type == "mp":
				to_q.attr('[loopvar: label]').attr(eachRow.label).val = 1


# USAGE: group_rows(QUESTION_ID, ['ROW_1', 'ROW_2'])
def group_rows(question, grouped_rows):
    first_item_index = None
    shuffle_order = [row.index for row in question.rows.order]

    for index, row in enumerate(shuffle_order):
        if question.rows[row].label in grouped_rows:
            if first_item_index == None:
                first_item_index = index
            else:
                first_item_index += 1
                shuffle_order.insert(
                    first_item_index, shuffle_order.pop(index))

    question.rows.order = shuffle_order



# USAGE: group_rows_with_order(QUESTION_ID, ['ROW_1', 'ROW_2'])
def group_rows_with_order(question, grouped_rows):
    current_order = [row.index for row in question.rows.order]
    new_order = []

    grouped_rows = [question.attr(row).index for row in grouped_rows]
    first_item_index = current_order.index(grouped_rows[0])

    current_order.insert(first_item_index, grouped_rows)

    for row in current_order:
        if row == grouped_rows:
            new_order = new_order + row
        elif row not in grouped_rows:
            new_order.append(row)

    question.rows.order = new_order



# USAGE: group_cols(QUESTION_ID, ['CODE_1', 'CODE_2'])
def group_cols(question, grouped_cols):
    first_item_index = None
    shuffle_order = [col.index for col in question.cols.order]

    for index, col in enumerate(shuffle_order):
        if question.cols[col].label in grouped_cols:
            if first_item_index == None:
                first_item_index = index
            else:
                first_item_index += 1
                shuffle_order.insert(
                    first_item_index, shuffle_order.pop(index))

    question.cols.order = shuffle_order


# USAGE: group_cols_with_order(QUESTION_ID, ['COL_1', 'COL_2'])
def group_cols_with_order(question, grouped_cols):
    current_order = [col.index for col in question.cols.order]
    new_order = []

    grouped_cols = [question.attr(col).index for col in grouped_cols]
    first_item_index = current_order.index(grouped_cols[0])

    current_order.insert(first_item_index, grouped_cols)

    for col in current_order:
        if col == grouped_cols:
            new_order = new_order + col
        elif col not in grouped_cols:
            new_order.append(col)

    question.cols.order = new_order


def shuffle_by( current_question, source_question ):
    current_order = [row.text for row in current_question.rows]
    current_question.rows.order = [current_order.index(row.text) for row in source_question.rows.order if row.text in current_order]


def sequential(qid):
	r = True
	p = [item.ival for item in qid]
	for i in range(0, len(p)-1):
		if(len(p[i]) == 0 and len(p[i+1]) gt 0):
			r = False
			break
	return r			

def unique(qid):
	r = True
	p = [item.ival for item in qid if item]
	for i in p:
		if p.count(i) gt 1 and (i.lower()) != "none":
			r = False
			break
	return r

def reverse_code_order(qid, type):
	if type == "cols":
		order = [eachCol.index for eachCol in qid.cols]
		order.reverse()
		qid.cols.order = order
	elif type == "rows":
		order = [eachRow.index for eachRow in qid.rows]
		order.reverse()
		qid.rows.order = order

def question_to_bullets(qid):
	my_list = ["&lt;ul&gt;"]
	for eachRow in qid.rows:
		if eachRow:
			try:
				rowText = eachRow.open
			except:
  				rowText = eachRow.text
  				
			my_list.append("&lt;li style='font-size: 20px;'&gt;"+ rowText+"&lt;/li&gt;")

	final_list = ''.join(my_list) + "&lt;/ul&gt;"
	return final_list

def keep_at_end_of_group(question, target_group, code_label):
    all_indices = [eachRow.index for eachRow in question.rows.order]
    target_group_order = [eachRow.index for eachRow in question.rows.order if eachRow.label in target_group]
    index_to_move = question.attr(code_label).index
    if index_to_move in all_indices:
        # Remove the number to move from the list
        all_indices.remove(index_to_move)

        sequence_index = -1
        for i in range(len(target_group_order) - 1, -1, -1):
            if target_group_order[i] in all_indices:
                sequence_index = all_indices.index(target_group_order[i])
                break
        
        # If a number from the sequence is found in the list, insert after it
        if sequence_index != -1:
            all_indices.insert(sequence_index + 1, index_to_move)
        else:  # If none of the sequence numbers are in the list, append the number
            all_indices.append(index_to_move)
    question.rows.order = all_indices
</exec>
  <style name="respview.client.css">
&lt;style type="text/css"&gt;

/* ******** LOGO STYLING ******** */
.logo-img {
    height: 90px;
    width: 90px;
    object-fit: scale-down;
}

.logo-img-smaller {
    height: 80px;
    width: 80px;
    object-fit: scale-down;
}

.logo-img-larger {
    height: 100px;
    width: 100px;
    object-fit: scale-down;
}

.logo-with-label {
    text-align: center;
}

   &lt;/style&gt;
</style>
  <block label="module_sm">
    <radio label="DUM_COUNTRY" cond="not (co in ['',None])" where="execute,survey,report">
      <title>Demography: Country</title>
      <exec>
for eachRow in DUM_COUNTRY.rows:
  if eachRow.label == 'r' + str(co):
    DUM_COUNTRY.val = eachRow.index
    </exec>
      <row label="r32" alt="Argentina" value="32">Argentina</row>
      <row label="r36" alt="Australia" value="36">Australia</row>
      <row label="r40" alt="Austria" value="40">Austria</row>
      <row label="r56" alt="Belgium" value="56">Belgium</row>
      <row label="r76" alt="Brazil" value="76">Brazil</row>
      <row label="r124" alt="Canada" value="124">Canada</row>
      <row label="r152" alt="Chile" value="152">Chile</row>
      <row label="r156" alt="China" value="156">China</row>
      <row label="r170" alt="Colombia" value="170">Colombia</row>
      <row label="r208" alt="Denmark" value="208">Denmark</row>
      <row label="r250" alt="France" value="250">France</row>
      <row label="r276" alt="Germany" value="276">Germany</row>
      <row label="r348" alt="Hungary" value="348">Hungary</row>
      <row label="r356" alt="India" value="356">India</row>
      <row label="r360" alt="Indonesia" value="360">Indonesia</row>
      <row label="r372" alt="Ireland" value="372">Ireland</row>
      <row label="r380" alt="Italy" value="380">Italy</row>
      <row label="r392" alt="Japan" value="392">Japan</row>
      <row label="r682" alt="Saudi Arabia" value="682">Saudi Arabia</row>
      <row label="r458" alt="Malaysia" value="458">Malaysia</row>
      <row label="r484" alt="Mexico" value="484">Mexico</row>
      <row label="r528" alt="Netherlands" value="528">Netherlands</row>
      <row label="r578" alt="Norway" value="578">Norway</row>
      <row label="r608" alt="Philippines" value="608">Philippines</row>
      <row label="r616" alt="Poland" value="616">Poland</row>
      <row label="r620" alt="Portugal" value="620">Portugal</row>
      <row label="r642" alt="Romania" value="642">Romania</row>
      <row label="r702" alt="Singapore" value="702">Singapore</row>
      <row label="r710" alt="South Africa" value="710">South Africa</row>
      <row label="r410" alt="South Korea" value="410">South Korea</row>
      <row label="r724" alt="Spain" value="724">Spain</row>
      <row label="r752" alt="Sweden" value="752">Sweden</row>
      <row label="r792" alt="Turkey" value="792">Turkey</row>
      <row label="r784" alt="UAE" value="784">UAE</row>
      <row label="r826" alt="UK" value="826">UK</row>
      <row label="r840" alt="USA" value="840">USA</row>
    </radio>
    <suspend />
    <radio label="DUM_PARAMOUNT_STUDY" optional="1" where="execute,survey,report">
      <title>Paramount study flag</title>
      <exec>
clearQ(thisQuestion, "sp")

thisQuestion.val = thisQuestion.non_para.index
    </exec>
      <row label="para">Paramount study</row>
      <row label="non_para">Non Paramount study</row>
    </radio>
    <suspend />
    <radio label="COUNTRY" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="250px" atm1d:showInput="0" atm1d:viewMode="Tiled" ss:listDisplay="1" uses="atm1d.11">
      <title>In which country do you live?</title>
      <comment>${res.SP1}</comment>
      <row label="r32" alt="Argentina" value="32">Argentina</row>
      <row label="r36" alt="Australia" value="36">Australia</row>
      <row label="r40" alt="Austria" value="40">Austria</row>
      <row label="r56" alt="Belgium" value="56">Belgium</row>
      <row label="r76" alt="Brazil" value="76">Brazil</row>
      <row label="r124" alt="Canada" value="124">Canada</row>
      <row label="r152" alt="Chile" value="152">Chile</row>
      <row label="r156" alt="China" value="156">China</row>
      <row label="r170" alt="Colombia" value="170">Colombia</row>
      <row label="r208" alt="Denmark" value="208">Denmark</row>
      <row label="r250" alt="France" value="250">France</row>
      <row label="r276" alt="Germany" value="276">Germany</row>
      <row label="r348" alt="Hungary" value="348">Hungary</row>
      <row label="r356" alt="India" value="356">India</row>
      <row label="r360" alt="Indonesia" value="360">Indonesia</row>
      <row label="r372" alt="Ireland" value="372">Ireland</row>
      <row label="r380" alt="Italy" value="380">Italy</row>
      <row label="r392" alt="Japan" value="392">Japan</row>
      <row label="r682" alt="Saudi Arabia" value="682">Saudi Arabia</row>
      <row label="r458" alt="Malaysia" value="458">Malaysia</row>
      <row label="r484" alt="Mexico" value="484">Mexico</row>
      <row label="r528" alt="Netherlands" value="528">Netherlands</row>
      <row label="r578" alt="Norway" value="578">Norway</row>
      <row label="r608" alt="Philippines" value="608">Philippines</row>
      <row label="r616" alt="Poland" value="616">Poland</row>
      <row label="r620" alt="Portugal" value="620">Portugal</row>
      <row label="r642" alt="Romania" value="642">Romania</row>
      <row label="r702" alt="Singapore" value="702">Singapore</row>
      <row label="r710" alt="South Africa" value="710">South Africa</row>
      <row label="r410" alt="South Korea" value="410">South Korea</row>
      <row label="r724" alt="Spain" value="724">Spain</row>
      <row label="r752" alt="Sweden" value="752">Sweden</row>
      <row label="r792" alt="Turkey" value="792">Turkey</row>
      <row label="r784" alt="UAE" value="784">UAE</row>
      <row label="r826" alt="UK" value="826">UK</row>
      <row label="r840" alt="USA" value="840">USA</row>
      <row label="r98" value="99">Other</row>
    </radio>
    <suspend />
    <term label="TERM_COUNTRY" cond="COUNTRY.selected.label != DUM_COUNTRY.selected.label">COUNTRY: No match</term>
    <suspend />
    <radio label="GENDER_FULL" cond="DUM_PARAMOUNT_STUDY.non_para" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="250px" atm1d:showInput="0" atm1d:viewMode="Tiled" ss:listDisplay="1" uses="atm1d.11">
      <title>Which gender do you identify as?</title>
      <comment>${res.SP1}</comment>
      <row label="r1">Man</row>
      <row label="r2">Transgender Man</row>
      <row label="r3">Woman</row>
      <row label="r4">Transgender Woman</row>
      <row label="r5">Non-binary</row>
      <row label="r98">Prefer to self-describe</row>
      <row label="r99">Prefer not to say</row>
    </radio>
    <suspend />
    <radio label="GENDER_SHORT" cond="DUM_PARAMOUNT_STUDY.para" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="250px" atm1d:showInput="0" atm1d:viewMode="Tiled" ss:listDisplay="1" uses="atm1d.11">
      <title>Which gender do you identify as?</title>
      <comment>${res.SP1}</comment>
      <row label="r1">Male</row>
      <row label="r2">Female</row>
      <row label="r99" randomize="0">Other gender / Non-binary</row>
    </radio>
    <suspend />
    <radio label="DUM_GENDER" where="execute,survey,report">
      <title>Gender dummy</title>
      <exec>
clearQ(thisQuestion, "sp")

if GENDER_FULL.r1 or GENDER_FULL.r2 or GENDER_SHORT.r1:
  thisQuestion.val = thisQuestion.r1.index
elif GENDER_FULL.r3 or GENDER_FULL.r4 or GENDER_SHORT.r2:
  thisQuestion.val = thisQuestion.r2.index
elif GENDER_FULL.r5 or GENDER_FULL.r98 or GENDER_FULL.r99 or GENDER_SHORT.r99:
  thisQuestion.val = thisQuestion.r3.index
    </exec>
      <row label="r1">Male = CODES 1-2 AT GENDER_FULL OR 1 AT GENDER SHORT</row>
      <row label="r2">Female = CODES 3-4 AT GENDER_FULL OR 2 AT GENDER SHORT</row>
      <row label="r3">Other/prefer not to say = CODE 5-7 AT GENDER_FULL OR 3 AT GENDER SHORT</row>
    </radio>
    <suspend />
    <number label="AGE" optional="0" size="3" verify="range(0,99)">
      <title>What is your age?</title>
      <comment>Please enter a number.</comment>
    </number>
    <suspend />
    <term label="TERM_AGE" cond="AGE.check('&lt;18')">AGE: Less than 18</term>
    <suspend />
    <radio label="DUM_AGEBREAK" where="execute,survey,report">
      <title>Age dummy</title>
      <exec>
if STD_AGE.check('16-24'):
    thisQuestion.val = thisQuestion.r1.index
elif STD_AGE.check('25-34'):
    thisQuestion.val = thisQuestion.r2.index
elif STD_AGE.check('35-44'):
    thisQuestion.val = thisQuestion.r3.index
elif STD_AGE.check('45-54'):
    thisQuestion.val = thisQuestion.r4.index
elif STD_AGE.check('55-64'):
    thisQuestion.val = thisQuestion.r5.index
elif STD_AGE.check('&gt;=65'):
    thisQuestion.val = thisQuestion.r6.index
else:
    thisQuestion.val = thisQuestion.r99.index
    </exec>
      <row label="r1">16-24</row>
      <row label="r2">25-34</row>
      <row label="r3">35-44</row>
      <row label="r4">45-54</row>
      <row label="r5">55-64</row>
      <row label="r6">65+</row>
      <row label="r99">None of These</row>
    </radio>
    <suspend />
    <block label="UK_POSTCODE" cond="DUM_COUNTRY.r826">
      <exec when="init">
def zipCodeFile(fname, zipHeader):
  try:
      zipCodesData = File( "%s/%s" % (gv.survey.path, fname), zipHeader)
  except IOError:
      zipCodesData = ""
  return zipCodesData

#This is creating a variable (ZIPCODES) that contains our zip code database.
UK_ZIPCODES = zipCodeFile("UK_Postcodes_UPDATED.dat", "Postcode")
    </exec>
      <text label="POSTCODE" cond="POSTCODE.n99" optional="0" size="4">
        <title>Please enter the &lt;strong&gt;first part&lt;/strong&gt; of your post code below. To be clear, we only want the part of your post code before the space! 
&lt;br /&gt;&lt;br /&gt;
Please use caps lock – text box is case sensitive
</title>
        <validate>
this.r1.val = this.r1.val.upper()
this.r2.val = this.r2.val.upper()

RECORD = ZIPCODES.get( this.r1.val )

if not(RECORD):
  error(res.zipError)
      </validate>
        <row label="r1" verify="len(2,4)">First part of postcode:</row>
        <noanswer label="n99">Prefer not to answer</noanswer>
      </text>
      <suspend />
      <exec cond="POSTCODE.r1.any or POSTCODE.r1.any">
if RECORD:
  print RECORD
  DUM_POSTCODE_INFO.r1.val = RECORD['postcode']
  DUM_POSTCODE_INFO.r2.val = RECORD['name']
  DUM_POSTCODE_INFO.r3.val = RECORD['region/country']
    </exec>
      <suspend />
      <text label="DUM_POSTCODE_INFO" randomize="0" size="25" translateable="0" where="execute,survey,report">
        <title>Location information from postcode</title>
        <row label="r1">Postcode</row>
        <row label="r2">Area</row>
        <row label="r3">Region / Country</row>
      </text>
      <suspend />
      <exec>
for eachRow in REGION_UK.rows:
  print eachRow.text
  if eachRow.text == DUM_POSTCODE_INFO.r3.val:
    REGION_UK.val = eachRow.index
    break

# EXTRA YORKSHIRE CHECK
if DUM_POSTCODE_INFO.r3.val is not None:
  if 'Yorkshire' in DUM_POSTCODE_INFO.r3.val:
    print "coded yorkshire"
    REGION_UK.val = REGION_UK.r3.index
    </exec>
      <radio label="REGION_UK" cond="POSTCODE.n99" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="auto" atm1d:showInput="0" atm1d:viewMode="Tiled" ss:listDisplay="1" uses="atm1d.11">
        <title>In which of the following regions do you live?</title>
        <comment>${res.SP1}</comment>
        <row label="r1">North East England</row>
        <row label="r2">North West England</row>
        <row label="r3">Yorkshire &amp; Humberside</row>
        <row label="r4">East Midlands</row>
        <row label="r5">West Midlands</row>
        <row label="r6">East Anglia</row>
        <row label="r7">South East England</row>
        <row label="r8">South West England</row>
        <row label="r9">London</row>
        <row label="r10">Northern Ireland</row>
        <row label="r11">Scotland</row>
        <row label="r12">Wales</row>
      </radio>
      <suspend />
    </block>
    <block label="US_ZIPCODE" cond="DUM_COUNTRY.r840">
      <text label="STD_ZIPCODE_US" optional="0" ss:legendColWidth="400px" translateable="0" verify="zipcode">
        <title>Please enter your 5-digit ZIP code below.</title>
        <validate>
RECORD = ZIPCODES.get(STD_ZIPCODE_US.val)
if not RECORD:
    error(res.STDZIPError)
      </validate>
        <noanswer label="r99">Prefer not to answer</noanswer>
      </text>
      <suspend />
      <exec when="init">
def zipCodeFile(fname, zipHeader):
  try:
      zipCodesData = File( "%s/%s" % (gv.survey.path, fname), zipHeader)
  except IOError:
      zipCodesData = ""
  return zipCodesData
    </exec>
      <suspend />
      <exec when="init">
ZIPCODES = zipCodeFile("USZipCode.dat", "ZIPCode")
    </exec>
      <suspend />
      <exec>
RECORD = ZIPCODES.get(STD_ZIPCODE_US.val )

if RECORD:
  DUM_Zipcode.r1.val = RECORD['cityname']
  DUM_Zipcode.r2.val = RECORD['msa']
  DUM_Zipcode.r3.val = RECORD['msa_name']
  DUM_Zipcode.r4.val = RECORD['state']
  DUM_Zipcode.r5.val = RECORD['statename']
  DUM_Zipcode.r6.val = RECORD['censusdivision']
  DUM_Zipcode.r7.val = RECORD['censusdivisionname']
  DUM_Zipcode.r8.val = RECORD['censusregion']
  DUM_Zipcode.r9.val = RECORD['censusregionname']
    </exec>
      <suspend />
      <text label="DUM_Zipcode" randomize="0" size="25" translateable="0" where="execute,survey,report">
        <title>Hidden Marker: US city name</title>
        <comment>Please enter your answer</comment>
        <row label="r1">CityName</row>
        <row label="r2">MSA</row>
        <row label="r3">MSA_Name&amp;nbsp;</row>
        <row label="r4">State</row>
        <row label="r5">StateName</row>
        <row label="r6">CensusDivision&amp;nbsp;</row>
        <row label="r7">CensusDivisionname</row>
        <row label="r8">CensusRegion&amp;nbsp;</row>
        <row label="r9">CensusRegionname</row>
      </text>
      <suspend />
      <exec>
for eachrow in DUM_State.rows:
    if eachrow.text == DUM_Zipcode.r5.val:
        DUM_State.val = eachrow.index
        break

for eachrow in DUM_CensusDivision.rows:
    if eachrow.text == DUM_Zipcode.r7.val:
        DUM_CensusDivision.val = eachrow.index
        break

for eachrow in DUM_REGION.rows:
    if eachrow.text == DUM_Zipcode.r9.val:
       DUM_REGION.val = eachrow.index
       break
    elif STD_ZIPCODE_US.r99:
       DUM_REGION.val = DUM_REGION.r5.index
    </exec>
      <suspend />
      <radio label="DUM_State" optional="1" randomize="0" translateable="0" where="execute,survey,report">
        <title>Hidden Marker : US State</title>
        <comment>Please select an answer</comment>
        <row label="r1">New York</row>
        <row label="r2">Massachusetts</row>
        <row label="r3">Rhode Island</row>
        <row label="r4">New Hampshire</row>
        <row label="r5">Maine</row>
        <row label="r6">Vermont</row>
        <row label="r7">Connecticut</row>
        <row label="r8">New Jersey</row>
        <row label="r9">Pennsylvania</row>
        <row label="r10">Delaware</row>
        <row label="r11">District of Columbia</row>
        <row label="r12">Virginia</row>
        <row label="r13">Maryland</row>
        <row label="r14">West Virginia</row>
        <row label="r15">North Carolina</row>
        <row label="r16">South Carolina</row>
        <row label="r17">Georgia</row>
        <row label="r18">Florida</row>
        <row label="r19">Alabama</row>
        <row label="r20">Tennessee</row>
        <row label="r21">Mississippi</row>
        <row label="r22">Kentucky</row>
        <row label="r23">Ohio</row>
        <row label="r24">Indiana</row>
        <row label="r25">Michigan</row>
        <row label="r26">Iowa</row>
        <row label="r27">Wisconsin</row>
        <row label="r28">Minnesota</row>
        <row label="r29">South Dakota</row>
        <row label="r30">North Dakota</row>
        <row label="r31">Montana</row>
        <row label="r32">Illinois</row>
        <row label="r33">Missouri</row>
        <row label="r34">Kansas</row>
        <row label="r35">Nebraska</row>
        <row label="r36">Louisiana</row>
        <row label="r37">Arkansas</row>
        <row label="r38">Oklahoma</row>
        <row label="r39">Texas</row>
        <row label="r40">Colorado</row>
        <row label="r41">Wyoming</row>
        <row label="r42">Idaho</row>
        <row label="r43">Utah</row>
        <row label="r44">Arizona</row>
        <row label="r45">New Mexico</row>
        <row label="r46">Nevada</row>
        <row label="r47">California</row>
        <row label="r48">Hawaii</row>
        <row label="r49">Oregon</row>
        <row label="r50">Washington</row>
        <row label="r51">Alaska</row>
      </radio>
      <radio label="DUM_CensusDivision" optional="1" translateable="0" where="execute,survey,report">
        <title>Hidden Marker : US Census Division&amp;nbsp;</title>
        <comment>Please select an answer</comment>
        <row label="r1">MIDDLE ATLANTIC</row>
        <row label="r2">NEW ENGLAND</row>
        <row label="r3">SOUTH ATLANTIC</row>
        <row label="r4">EAST SOUTH CENTRAL</row>
        <row label="r5">EAST NORTH CENTRAL</row>
        <row label="r6">WEST NORTH CENTRAL</row>
        <row label="r7">MOUNTAIN</row>
        <row label="r8">WEST SOUTH CENTRAL</row>
        <row label="r9">PACIFIC</row>
      </radio>
      <radio label="DUM_REGION" optional="1" translateable="0" where="execute,survey,report">
        <title>CODE REGION BASED ON ZIP CODE</title>
        <comment>Please select an answer</comment>
        <row label="r1">NORTHEAST</row>
        <row label="r2">MIDWEST</row>
        <row label="r3">SOUTH</row>
        <row label="r4">WEST</row>
        <row label="r5">Prefer not to answer</row>
      </radio>
      <suspend />
    </block>
    <suspend />
    <checkbox label="QC_WEEKEND" atleast="1" atm1d:showInput="0" shuffle="rows" ss:listDisplay="1" uses="atm1d.11">
      <title>Which, if any, of the following have you done over the past weekend?</title>
      <comment>${res.MP1}</comment>
      <row label="r1">Watched TV</row>
      <row label="r2">Visited Antarctica</row>
      <row label="r3">Flew in a helicopter</row>
      <row label="r4">Played poker</row>
      <row label="r5">Went geocaching</row>
      <row label="r6">Went skiing</row>
      <row label="r7">Visited a flea market</row>
      <row label="r8">Went bungee jumping</row>
      <row label="r99" exclusive="1" randomize="0">None of the above</row>
    </checkbox>
    <suspend />
    <radio label="DUM_QCFLAG_WEEKEND" where="execute,survey,report">
      <title>Hidden VARIABLE for QC_WEEKEND</title>
      <comment>${res.SP1}</comment>
      <exec>
if QC_WEEKEND.r2:
  thisQuestion.val = thisQuestion.Fail.index
elif QC_WEEKEND.but(QC_WEEKEND.r1,QC_WEEKEND.r99).count gt 2:
  thisQuestion.val = thisQuestion.Fail.index
else :
  thisQuestion.val = thisQuestion.Pass.index
    </exec>
      <row label="Pass">Pass</row>
      <row label="Fail">Fail</row>
    </radio>
    <suspend />
    <checkbox label="DEVICES_HHLD" atleast="1" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="300px" atm1d:showInput="0" atm1d:viewMode="Tiled" shuffle="rows" ss:listDisplay="1" uses="atm1d.11">
      <title>Which, if any, of these devices do you have in your household, even if you don’t personally use them?</title>
      <comment>${res.MP1}</comment>
      <row label="r1">Desktop/Laptop computer</row>
      <row label="r2">Smartphone (e.g., iPhone, Android phone, etc.)</row>
      <row label="r3">Tablet (e.g., iPad, Android tablet, Amazon Fire tablet, etc.)</row>
      <row label="r4">Smart TV (i.e., TV with internet capabilities built in)</row>
      <row label="r5">Video game console (e.g., Xbox One, PlayStation 4, Nintendo Switch, etc.)</row>
      <row label="r6">Connected TV device/stick (e.g., Roku, Amazon Fire TV, Apple TV, Google Chromecast, Android box, etc.)</row>
      <row label="r7">Smart Speaker with a screen (e.g., Amazon Echo, Google Nest Hub with Smart Display, etc.)</row>
      <row label="r8">Set-Top Box from my cable/satellite TV provider</row>
      <row label="r9">DVD or Blu-ray player (not in a laptop)</row>
      <row label="r10">VR (Virtual Reality) headset (e.g. Google Cardboard, Oculus Rift)</row>
      <row label="r99" exclusive="1" randomize="0">None of these</row>
    </checkbox>
    <suspend />
    <checkbox label="INDUSTRY" atleast="1" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="auto" atm1d:showInput="0" atm1d:viewMode="Tiled" shuffle="rows" ss:listDisplay="1" uses="atm1d.11">
      <title>Do you, or does anyone in your household, work in any of the following industries?</title>
      <comment>${res.MP1}</comment>
      <row label="r1">Television</row>
      <row label="r2">Journalism</row>
      <row label="r3">Advertising</row>
      <row label="r4">Media</row>
      <row label="r5">Market research</row>
      <row label="r6">Fashion</row>
      <row label="r7">Marketing</row>
      <row label="r8">Retail</row>
      <row label="r9">IT</row>
      <row label="r10">Banking</row>
      <row label="r99" exclusive="1" randomize="0">None of these</row>
    </checkbox>
    <suspend />
    <term label="TERM_IND" cond="INDUSTRY.r1 or INDUSTRY.r2 or INDUSTRY.r3 or INDUSTRY.r4 or INDUSTRY.r5">INDUSTRY: Wrong industry</term>
    <suspend />
    <radio label="QC_DOG_CONSENT" atm1d:showInput="0" ss:listDisplay="1" uses="atm1d.11">
      <title>Are you using a screen-reader or any other assistive technology to complete this survey?</title>
      <comment>${res.SP1}</comment>
      <row label="r1">Yes</row>
      <row label="r2">No</row>
    </radio>
    <suspend />
    <checkbox label="QC_DOG" cond="QC_DOG_CONSENT.r2" atleast="1" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="auto" atm1d:showInput="0" atm1d:viewMode="Tiled" shuffle="rows" ss:listDisplay="1" uses="atm1d.11">
      <title>Here are some pictures of dogs. Please select images that show real dogs</title>
      <comment>${res.MP1}</comment>
      <row label="r1" alt="Real dog #1">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/7247213914.png" class="dog-pic" /&gt;</row>
      <row label="r2" alt="Real dog #2">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/0433861318.png" class="dog-pic" /&gt;</row>
      <row label="r3" alt="Real dog #3">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/2378940374.png" class="dog-pic" /&gt;</row>
      <row label="r4" alt="Real dog #4">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/7105114284.png" class="dog-pic" /&gt;</row>
      <row label="r5" alt="Fake dog #1">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/4152180908.png" class="dog-pic" /&gt;</row>
      <row label="r6" alt="Fake dog #2">&lt;img src="https://uk.focusvision.com/survey/selfserve/2222/240210/2504245440.png" class="dog-pic" /&gt;</row>
      <style name="question.after">
&lt;style type="text/css"&gt;
.dog-pic {
    height: 200px;
    width: 200px;
    object-fit: scale-down;
}
   &lt;/style&gt;
</style>
    </checkbox>
    <suspend />
    <radio label="DUM_QC_DOG" cond="QC_DOG.count gt 0" optional="1" where="execute,survey,report">
      <title>Dog QC result</title>
      <exec>
clearQ(thisQuestion, "sp")

if QC_DOG.count == 4 and (QC_DOG.r1 and QC_DOG.r2 and QC_DOG.r3 and QC_DOG.r4):
  thisQuestion.val = thisQuestion.r1.index
else:
  thisQuestion.val = thisQuestion.r2.index
    </exec>
      <row label="r1">Pass</row>
      <row label="r2">Fail</row>
    </radio>
    <suspend />
    <block label="USA_ETHNICITY" cond="DUM_COUNTRY.r840">
      <radio label="USA_ETHNICITY_1" atm1d:showInput="0" ss:listDisplay="1" uses="atm1d.11">
        <title>Are you Spanish, Hispanic, or Latinx such as Mexican, Mexican-American, Chicano, Puerto Rican, Cuban, or another Spanish, Hispanic, or Latinx group?</title>
        <comment>${res.SP1}</comment>
        <row label="r1">Yes</row>
        <row label="r2">No</row>
      </radio>
      <suspend />
      <checkbox label="USA_ETHNICITY_2" atleast="1" atm1d:large_buttonAlign="Center" atm1d:large_maxHeight="auto" atm1d:large_maxWidth="auto" atm1d:showInput="0" atm1d:viewMode="Tiled" shuffle="rows" ss:listDisplay="1" uses="atm1d.11">
        <title>What is your racial background?</title>
        <comment>${res.MP1}</comment>
        <row label="r1">Asian / Asian-American</row>
        <row label="r2">Black / African-American</row>
        <row label="r3">White / Caucasian</row>
        <row label="r98" randomize="0">Other</row>
      </checkbox>
      <suspend />
      <checkbox label="DUM_US_ETH_1" where="execute,survey,report">
        <title>Ethnicity 1</title>
        <exec>
clearQ(thisQuestion, "mp")

if USA_ETHNICITY_1.r1 and USA_ETHNICITY_2.r2:
    thisQuestion.r1.val = 1

if USA_ETHNICITY_1.r2 and USA_ETHNICITY_2.r2:
    thisQuestion.r2.val = 1

if USA_ETHNICITY_1.r1 and USA_ETHNICITY_2.r3:
    thisQuestion.r3.val = 1

if USA_ETHNICITY_1.r2 and USA_ETHNICITY_2.r3:
    thisQuestion.r4.val = 1

if USA_ETHNICITY_1.r1 and USA_ETHNICITY_2.r1:
    thisQuestion.r5.val = 1

if USA_ETHNICITY_1.r2 and USA_ETHNICITY_2.r1:
    thisQuestion.r6.val = 1

if USA_ETHNICITY_1.r1 and USA_ETHNICITY_2.r98:
    thisQuestion.r5.val = 1

if USA_ETHNICITY_1.r2 and USA_ETHNICITY_2.r98:
    thisQuestion.r6.val = 1
      </exec>
        <row label="r1">Black Hisp</row>
        <row label="r2">Black Non Hisp</row>
        <row label="r3">White Hisp</row>
        <row label="r4">White Non Hisp</row>
        <row label="r5">Other Hisp</row>
        <row label="r6">Other Non Hisp</row>
      </checkbox>
      <suspend />
      <radio label="USA_ETHNICITY_QUOTA" where="execute,survey,report">
        <title>HIDDEN QUESTION FOR USA ETHNICITY QUOTA</title>
        <exec>
clearQ(thisQuestion, "sp")

if DUM_US_ETH_1.r1 and DUM_US_ETH_1.count ge 2:
    thisQuestion.val = thisQuestion.r1.index

elif DUM_US_ETH_1.r5 and (DUM_US_ETH_1.r2 or DUM_US_ETH_1.r3 or DUM_US_ETH_1.r4 or DUM_US_ETH_1.r6):
    thisQuestion.val = thisQuestion.r5.index
    
elif DUM_US_ETH_1.r6 and (DUM_US_ETH_1.r2 or DUM_US_ETH_1.r3 or DUM_US_ETH_1.r4):
    thisQuestion.val = thisQuestion.r6.index

elif DUM_US_ETH_1.r2 and (DUM_US_ETH_1.r3 or DUM_US_ETH_1.r4):
    thisQuestion.val = thisQuestion.r2.index

elif DUM_US_ETH_1.r3 and DUM_US_ETH_1.r4:
    thisQuestion.val = thisQuestion.r3.index

elif DUM_US_ETH_1.r4 and DUM_US_ETH_1.count == 1:
    thisQuestion.val = thisQuestion.r4.index

elif DUM_US_ETH_1.count == 1:
  thisQuestion.val = thisQuestion.attr([eachRow.label for eachRow in DUM_US_ETH_1.rows if eachRow][0]).index
      </exec>
        <row label="r1">Black Hisp</row>
        <row label="r2">Black Non Hisp</row>
        <row label="r3">White Hisp</row>
        <row label="r4">White Non Hisp</row>
        <row label="r5">Other Hisp</row>
        <row label="r6">Other Non Hisp</row>
      </radio>
      <suspend />
    </block>
    <suspend />
    <radio label="QC_ATTENTION" cardsort:bucketCSS="width: 15%;" cardsort:buttonNextHTML="&lt;span style=&quot;font-family: Century Gothic;&quot;&gt;Next&lt;/span&gt; &lt;i class=&quot;fa-icon-chevron-right&quot;&gt;&lt;/i&gt;" cardsort:buttonPreviousHTML="&lt;i class=&quot;fa-icon-chevron-left&quot;&gt;&lt;/i&gt;&lt;span style=&quot;font-family: Century Gothic;&quot;&gt; Prev&lt;/span&gt;" cardsort:cardCSS="font-family: 'Century Gothic', CenturyGothic, AppleGothic, sans-serif;" cardsort:completionHTML="&lt;i&gt;Click the &quot;&gt;&gt;&quot; button to proceed.&lt;/i&gt;" cardsort:displayCounter="0" cardsort:themeFile="cardsort.css" uses="cardsort.8">
      <title>How much do you agree or disagree that each of the words below describe you?</title>
      <comment>${res.SP1}</comment>
      <col label="c1">Agree strongly</col>
      <col label="c2">Agree slightly</col>
      <col label="c3">Neither agree nor disagree</col>
      <col label="c4">Disagree slightly</col>
      <col label="c5">Disagree strongly</col>
      <row label="r1">Sophisticated</row>
      <row label="r2">Elegant</row>
      <row label="r3">Funny</row>
      <row label="r4">Select “Agree slightly” for this item</row>
      <row label="r5">Edgy</row>
    </radio>
    <suspend />
    <radio label="DUM_QCFLAG_ATTENTION" where="execute,survey,report">
      <title>Hidden VARIABLE for QC_ATTENTION</title>
      <comment>${res.SP1}</comment>
      <exec>
if not(QC_ATTENTION.r4.c2):
  thisQuestion.val = thisQuestion.Fail.index
else :
  thisQuestion.val = thisQuestion.Pass.index
    </exec>
      <row label="Pass">Pass</row>
      <row label="Fail">Fail</row>
    </radio>
    <suspend />
    <radio label="QC_CONTRADICTION" cardsort:bucketCSS="width: 15%;" cardsort:buttonNextHTML="&lt;span style=&quot;font-family: Century Gothic;&quot;&gt;Next&lt;/span&gt; &lt;i class=&quot;fa-icon-chevron-right&quot;&gt;&lt;/i&gt;" cardsort:buttonPreviousHTML="&lt;i class=&quot;fa-icon-chevron-left&quot;&gt;&lt;/i&gt;&lt;span style=&quot;font-family: Century Gothic;&quot;&gt; Prev&lt;/span&gt;" cardsort:cardCSS="font-family: 'Century Gothic', CenturyGothic, AppleGothic, sans-serif;" cardsort:completionHTML="&lt;i&gt;Click the &quot;&gt;&gt;&quot; button to proceed.&lt;/i&gt;" cardsort:displayCounter="0" cardsort:themeFile="cardsort.css" uses="cardsort.8">
      <title>How much do you agree or disagree with each of the following statements?</title>
      <comment>${res.SP1}</comment>
      <col label="c1">Agree strongly</col>
      <col label="c2">Agree slightly</col>
      <col label="c3">Neither agree nor disagree</col>
      <col label="c4">Disagree slightly</col>
      <col label="c5">Disagree strongly</col>
      <row label="r1">I love shopping for things online</row>
      <row label="r2">I can accomplish anything I want if I work hard enough</row>
      <row label="r3">The music I listen to is an important part of my identity</row>
      <row label="r4">These days having access to the internet is a basic human right</row>
      <row label="r5">I hate shopping for things online</row>
      <row label="r6">Everyone should be responsible for protecting the environment</row>
    </radio>
    <suspend />
    <radio label="DUM_QCFLAG_CONTRADICTION" where="execute,survey,report">
      <title>Hidden VARIABLE for QC_CONTRADICTION</title>
      <comment>${res.SP1}</comment>
      <exec>
if (QC_CONTRADICTION.r1.c1 and QC_CONTRADICTION.r5.c1) or (QC_CONTRADICTION.r1.c5 and QC_CONTRADICTION.r5.c5):
  thisQuestion.val = thisQuestion.Fail.index
else:
  thisQuestion.val = thisQuestion.Pass.index
    </exec>
      <row label="Pass">Pass</row>
      <row label="Fail">Fail</row>
    </radio>
    <suspend />
    <number label="DUM_QC" optional="0" size="10" where="execute,survey,report">
      <title>Quality control: count of fails</title>
      <comment>${res.N1}</comment>
      <exec>
thisQuestion.val = DUM_QCFLAG_WEEKEND.val + DUM_QCFLAG_ATTENTION.val + DUM_QCFLAG_CONTRADICTION.val
    </exec>
    </number>
    <suspend />
    <radio label="DUM_QCSCREENER_TERM" where="execute,survey,report">
      <title>Hidden VARIABLE to Term people who failed 2 QC checks</title>
      <comment>${res.SP1}</comment>
      <exec>
clearQ(thisQuestion, "sp")

if DUM_QC.ival ge 2:
    thisQuestion.val = thisQuestion.r2.index
    setMarker('QCFailed')
else:
    thisQuestion.val = thisQuestion.r1.index
    </exec>
      <row label="r1">Pass</row>
      <row label="r2">Fail</row>
    </radio>
    <suspend />
    <term label="TERM_QC" cond="DUM_QCSCREENER_TERM.r2">Failed 2+ QC checks</term>
    <suspend />
  </block>
</survey>